<% content_for :title do %>
  <title>All Users | RailsBBS</title>
<% end %>

<div class="container my-3">
<h1>All Users</h1>
 
<table class="table table-striped">
  <tr scope="row">
    <th scope="col">ID</th>
    <th scope="col">First Name</th>
    <th scope="col">Last Name</th>
    <th scope="col">Email</th>
    <th scope="col">Admin</th>
    <th scope="col"></th>
  </tr>
 
  <% @users.each do |user| %>
    <tr scope="row">
      <td><%= user.id %></td>
      <td><%= user.fname %></td>
      <td><%= user.lname %></td>
      <td><%= user.email %></td>
      <td><%= user.admin %></td>
      <td>
        <%= link_to 'Toggle Admin', users_all_path(user),
                method: :patch,
                data: { confirm: 'Confirm admin toggle?' } %> |
        <%= link_to 'Delete', users_all_path(user),
                method: :delete,
                data: { confirm: 'Confirm user removal?' } %>
      </td>
    </tr>
  <% end %>
</table>
</div>
